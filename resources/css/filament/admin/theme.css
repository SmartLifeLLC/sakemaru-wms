@import '../../../../vendor/filament/filament/resources/css/theme.css';

@source '../../../../app/Filament/**/*';
@source '../../../../resources/views/filament/**/*';
@source '../../../../vendor/archilex/filament-filter-sets';

/* … Advanced Tables の設定はそのままでOK … */

@layer components {
    .fi-main {
        @apply max-w-none;
        overflow: visible !important;
    }

    .fi-layout {
        overflow: visible !important;
    }

    .fi-sidebar + .fi-main {
        @apply max-w-none;
    }

    .fi-topbar + .fi-main {
        @apply max-w-none;
    }

    .fi-header-heading {
        @apply text-xl font-semibold;
    }

    .fi-header {
        @apply pt-2 my-0;
    }

    .fi-page-main {
        @apply py-0 my-0 -mt-1;
    }

    .fi-page-header-main-ctn {
        @apply py-0 my-0 mt-1;
        @apply gap-0;
    }

    .fi-page-header {
        @apply py-0 my-0;
    }

    /* ここを修正：高さ固定をやめる */
    .fi-ta-row {
        @apply divide-x divide-gray-200 dark:divide-white/5;
        min-height: 0 !important;
        height: auto !important; /* 追加 */
    }

    .fi-ta-cell {
        /* height: 37px !important; ← 削除 */
        /* padding: 3px 5px 3px!important; ← 削除して、後の共通ルールに任せる */
    }

    .fi-ta-selection-cell {
        /* height固定とpadding不要なら削除 */
        /* padding: 3px 5px 3px!important;
           height: 37px !important; */
    }

    .fi-ta-text,
    .fi-ta-text-item,
    .fi-ta-text-has-badges {
        padding-top: 0 !important;
        padding-bottom: 0 !important;
    }

    .fi-size-sm {
        @apply py-0 my-0;
        height: auto !important;
        min-height: auto !important;
        line-height: 1.2 !important;
    }

    .fi-ta-text-item.fi-size-sm {
        padding: 0 !important;
    }

    .fi-section-header-heading {
        @apply text-base font-medium;
    }

    .fi-section-header {
        @apply py-1 mt-1;
    }

    .fi-ta-header-heading {
        @apply text-base font-medium;
    }

    .fi-ta-header {
        @apply py-0 my-1;
    }

    .fi-page {
        @apply pt-1;
    }

    .fi-ta {
        @apply mt-0;
    }

    .fi-section {
        @apply py-0 my-0;
    }

    .fi-page-content {
        @apply py-2;
    }

    .fi-page > .fi-page-content {
        @apply mt-0;
    }

    .fi-ta-table > thead > tr {
        @apply divide-x divide-gray-200 dark:divide-white/5;
    }
}

/* セル（td）の上下余白を完全に潰す */
.compact-cell {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    height: auto !important;
}

/* セル内コンテナの余白も潰す */
.compact-cell > div {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

.fi-ta-cell,
.fi-ta-cell > div,
.fi-ta-text,
.fi-input,
.fi-select-input {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    min-height: 0 !important;
}

/* TextInputColumn の input ラッパをさらに潰す */
.fi-ta-cell:has(.fi-ta-text-input),
.fi-ta-text-input,
.fi-ta-text-input .fi-input {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    min-height: 0 !important;
}

/* 実際の input 自体も行高さを詰める */
.fi-input input {
    height: 24px !important;
    line-height: 24px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

/* td（セル）の基本余白 */
.fi-ta-cell,
.compact-cell {
    padding: 1px 2px !important; /* ← ここが希望の余白 */
    height: auto !important;
    min-height: 0 !important;
}

/* セル内の div も合わせる */
.fi-ta-cell > div,
.compact-cell > div {
    padding: 0 !important;   /* 内側はゼロ。td側の padding だけ効かせる */
    margin: 0 !important;
}

/* テキスト系 */
.fi-ta-text,
.fi-ta-text-item,
.fi-ta-text-has-badges {
    padding: 1px 2px  !important;
    margin: 1px 2px  !important;
}

/* TextInputColumn のラッパ */
.fi-ta-text-input,
.fi-ta-text-input .fi-input {
    padding: 1px !important;
    margin: 1px 2px !important;
    min-height: 0 !important;
}

/* 実際の input 要素の高さは固定 */
.fi-input input {
    height: 24px !important;
    line-height: 24px !important;
    padding: 1px 2px !important;        /* input の余白は不要 */
    margin: 1px 2px !important;
}

/* IconColumn の余白を詰める */
.fi-ta-icon {
    padding: 1px 2px !important;
    margin: 0 !important;
}

.fi-ta-icon svg {
    width: 16px !important;
    height: 16px !important;
}

/* IconColumn を含むセルの余白 */
.fi-ta-cell:has(.fi-ta-icon) {
    padding: 1px 2px !important;
}

.fi-ta-cell:has(.fi-ta-icon) > div {
    padding: 0 !important;
    margin: 0 !important;
}
